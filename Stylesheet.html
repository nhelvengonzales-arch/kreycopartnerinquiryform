<script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<script>
    tailwind.config = {
        darkMode: 'class',
        theme: {
            extend: {
                fontFamily: {
                    sans: ['Inter', 'sans-serif'],
                },
                colors: {
                    brand: {
                        DEFAULT: '#16367B',
                        light: '#2a4ea3',
                        dark: '#0f265a',
                    }
                },
                boxShadow: {
                    'card': '0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03)',
                    'input': '0 1px 2px 0 rgba(0, 0, 0, 0.05)',
                },
                animation: {
                    'fade-in-up': 'fadeInUp 0.8s ease-out forwards',
                }
            }
        }
    }
</script>

<style>
    body {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    .loader {
        border: 3px solid #f3f3f3;
        border-radius: 50%;
        border-top: 3px solid #16367B;
        width: 24px;
        height: 24px;
        animation: spin 1s linear infinite;
    }

    @keyframes spin {
        0% {
            transform: rotate(0deg);
        }

        100% {
            transform: rotate(360deg);
        }
    }

    .checkbox-container::-webkit-scrollbar {
        width: 6px;
    }

    .checkbox-container::-webkit-scrollbar-track {
        background: #f8fafc;
        border-radius: 4px;
    }

    .checkbox-container::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 4px;
    }

    /* Custom Scrollbar for Sticky Column */
    .custom-scrollbar::-webkit-scrollbar {
        width: 6px;
    }

    .custom-scrollbar::-webkit-scrollbar-track {
        background: transparent;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb {
        background-color: rgba(156, 163, 175, 0.5);
        border-radius: 20px;
    }

    .dark .custom-scrollbar::-webkit-scrollbar-thumb {
        background-color: rgba(75, 85, 99, 0.8);
    }

    /* Dark mode styles */
    .dark input:not([type="checkbox"]):not([type="file"]),
    .dark textarea,
    .dark select {
        background-color: #374151 !important;
        border-color: #4b5563 !important;
        color: #f3f4f6 !important;
    }

    .dark input:not([type="checkbox"]):not([type="file"])::placeholder,
    .dark textarea::placeholder {
        color: #9ca3af !important;
    }

    .dark input:not([type="checkbox"]):not([type="file"]):focus,
    .dark textarea:focus,
    .dark select:focus {
        background-color: #4b5563 !important;
    }

    .dark label {
        color: #d1d5db !important;
    }

    .dark h2,
    .dark h3 {
        color: #f3f4f6 !important;
    }

    /* Collapsible teacher sections */
    .teacher-content,
    .school-content {
        max-height: 5000px;
        overflow: hidden;
        transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
        opacity: 1;
    }

    .teacher-content.collapsed,
    .school-content.collapsed {
        max-height: 0;
        opacity: 0;
        transition: max-height 0.3s ease-in, opacity 0.3s ease-in;
    }

    .teacher-header-wrapper,
    .school-header-wrapper {
        transition: background-color 0.2s;
    }

    .teacher-header-wrapper:hover,
    .school-header-wrapper:hover {
        background-color: rgba(41, 94, 227, 0.05);
    }

    .dark .teacher-header-wrapper:hover,
    .dark .school-header-wrapper:hover {
        background-color: rgba(41, 94, 227, 0.1);
    }

    .chevron-icon,
    .school-chevron-icon {
        transition: transform 0.3s ease;
    }

    /* Success toast animation */
    @keyframes slideDown {
        from {
            opacity: 0;
            transform: translate(-50%, -20px);
        }

        to {
            opacity: 1;
            transform: translate(-50%, 0);
        }
    }

    .animate-slideDown {
        animation: slideDown 0.5s ease-out;
    }

    /* Enhanced visibility for icons in dark mode */
    .dark .bg-brand\/10 {
        background-color: rgba(41, 94, 227, 0.2) !important;
        box-shadow: 0 0 0 1px rgba(41, 94, 227, 0.3),
            0 0 12px rgba(41, 94, 227, 0.2);
    }

    .dark .text-brand {
        filter: drop-shadow(0 0 4px rgba(41, 94, 227, 0.5));
        color: #5b8def !important;
    }

    .dark .checkbox-container {
        background-color: #374151 !important;
        border-color: #4b5563 !important;
    }

    /* Dark mode checkbox label styling */
    .dark .checkbox-container label:has(input[type="checkbox"]:checked) {
        background-color: rgba(41, 94, 227, 0.2) !important;
    }

    .dark .checkbox-container label:hover {
        background-color: rgba(41, 94, 227, 0.1) !important;
    }

    /* Ensure text stays visible on checked checkboxes in dark mode */
    .dark .checkbox-container label:has(input[type="checkbox"]:checked) span {
        color: #f3f4f6 !important;
        font-weight: 600;
    }

    .dark .teacher-row {
        background-color: #374151 !important;
        border-color: #4b5563 !important;
    }

    .dark .text-gray-500 {
        color: #9ca3af !important;
    }

    .dark .text-gray-600 {
        color: #d1d5db !important;
    }

    .dark .text-gray-700 {
        color: #e5e7eb !important;
    }

    /* Input fields in dark mode - add contrast and borders */
    .dark input[type="text"],
    .dark input[type="email"],
    .dark input[type="tel"],
    .dark textarea,
    .dark select {
        background-color: #1f2937 !important;
        border: 1px solid #4b5563 !important;
        color: #f3f4f6 !important;
    }

    .dark input[type="text"]:focus,
    .dark input[type="email"]:focus,
    .dark input[type="tel"]:focus,
    .dark textarea:focus,
    .dark select:focus {
        background-color: #111827 !important;
        border-color: #5b8def !important;
        box-shadow: 0 0 0 2px rgba(91, 141, 239, 0.2) !important;
    }

    .dark .bg-gray-50 {
        background-color: #374151 !important;
    }

    .dark .bg-gray-100 {
        background-color: #4b5563 !important;
    }

    .dark .border-gray-200 {
        border-color: #4b5563 !important;
    }

    .dark .border-gray-300 {
        border-color: #6b7280 !important;
    }

    .checkbox-container::-webkit-scrollbar-thumb:hover {
        background: #94a3b8;
    }

    /* Darker navbar in dark mode for better contrast */
    .dark nav {
        background-color: #0f1419 !important;
        border-bottom-color: #1f2937 !important;
    }

    /* Theme Dropdown in Dark Mode */
    .dark #themeDropdown {
        background-color: #1f2937 !important;
    }

    /* Success Page Animations and Styles */
    .checkmark-circle {
        stroke-dasharray: 166;
        stroke-dashoffset: 166;
        stroke-width: 2;
        stroke-miterlimit: 10;
        stroke: #16367B;
        fill: none;
        animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards;
    }

    .checkmark {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        display: block;
        stroke-width: 2;
        stroke: #fff;
        stroke-miterlimit: 10;
        margin: 10px auto;
        box-shadow: inset 0px 0px 0px #16367B;
        animation: fill .4s ease-in-out .4s forwards, scale .3s ease-in-out .9s both;
    }

    .checkmark__check {
        transform-origin: 50% 50%;
        stroke-dasharray: 48;
        stroke-dashoffset: 48;
        animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards;
    }

    @keyframes stroke {
        100% {
            stroke-dashoffset: 0;
        }
    }

    @keyframes scale {

        0%,
        100% {
            transform: none;
        }

        50% {
            transform: scale3d(1.1, 1.1, 1);
        }
    }

    @keyframes fill {
        100% {
            box-shadow: inset 0px 0px 0px 50px #16367B;
        }
    }

    @keyframes fadeInUp {
        0% {
            opacity: 0;
            transform: translateY(20px);
        }

        100% {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .animate-fade-in-up {
        animation: fadeInUp 0.8s ease-out forwards;
    }
</style>