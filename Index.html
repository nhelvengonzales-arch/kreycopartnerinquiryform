<!DOCTYPE html>
<html lang="en">

<head>
  <base target="_top">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- This pulls in all your CSS and Tailwind config -->
  <?!= include('Stylesheet'); ?>
</head>

<body
  class="bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 font-sans min-h-screen flex flex-col transition-colors duration-200">

  <!-- Navbar -->
  <nav class="bg-white dark:bg-gray-950 shadow-sm border-b border-gray-100 dark:border-gray-800 sticky top-0 z-50">
    <div class="w-full max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between h-16 sm:h-20">
        <div class="flex-shrink-0 flex items-center">
          <img class="h-8 sm:h-12 w-auto object-contain" src="https://kreyco.s3.us-east-2.amazonaws.com/kreyco-logo.png"
            alt="Kreyco">
          <h1 class="text-xl font-bold text-gray-900 dark:text-gray-100 tracking-tight ml-4 hidden sm:block">Partnership
            Inquiry</h1>
        </div>

        <!-- Success Notification Toast (Hidden by default) -->
        <div id="successToast" class="hidden fixed top-20 left-1/2 transform -translate-x-1/2 z-50 animate-slideDown">
          <div
            class="bg-green-50 dark:bg-green-900/30 border-2 border-green-500 rounded-xl shadow-2xl px-6 py-4 flex items-center gap-3 max-w-md">
            <div class="flex-shrink-0">
              <svg class="w-8 h-8 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"
                  d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
            </div>
            <div>
              <p class="text-green-800 dark:text-green-100 font-bold text-lg">Success!</p>
              <p class="text-green-700 dark:text-green-200 text-sm">Your response has been submitted.</p>
            </div>
          </div>
        </div>

        <!-- Error Notification Toast (Hidden by default) -->
        <div id="errorToast" class="hidden fixed top-20 left-1/2 transform -translate-x-1/2 z-50 animate-slideDown">
          <div
            class="bg-red-50 dark:bg-red-900/30 border-2 border-red-500 rounded-xl shadow-2xl px-6 py-4 flex items-center gap-3 max-w-md">
            <div class="flex-shrink-0">
              <svg class="w-8 h-8 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"
                  d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
            </div>
            <div>
              <p class="text-red-800 dark:text-red-100 font-bold text-lg">Error</p>
              <p id="errorToastMessage" class="text-red-700 dark:text-red-200 text-sm">An error occurred.</p>
            </div>
          </div>
        </div>

        <div class="flex items-center gap-4">
          <!-- Theme Toggle -->
          <div class="relative">
            <button id="themeToggle"
              class="p-2 rounded-lg bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700 transition-colors"
              aria-label="Toggle theme">
              <svg id="themeIconLight" class="w-5 h-5 text-gray-700 hidden" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd"
                  d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
                  clip-rule="evenodd" />
              </svg>
              <svg id="themeIconDark" class="w-5 h-5 text-gray-700 dark:text-gray-300 hidden" fill="currentColor"
                viewBox="0 0 20 20">
                <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z" />
              </svg>
              <svg id="themeIconSystem" class="w-5 h-5 text-gray-700 dark:text-gray-300 hidden" fill="currentColor"
                viewBox="0 0 20 20">
                <path fill-rule="evenodd"
                  d="M3 5a2 2 0 012-2h10a2 2 0 012 2v8a2 2 0 01-2 2h-2.22l.123.489.804.804A1 1 0 0113 18H7a1 1 0 01-.707-1.707l.804-.804L7.22 15H5a2 2 0 01-2-2V5zm5.771 7H5V5h10v7H8.771z"
                  clip-rule="evenodd" />
              </svg>
            </button>

            <!-- Theme Dropdown -->
            <div id="themeDropdown"
              class="hidden absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-50">
              <button data-theme="light"
                class="w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-3">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd"
                    d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
                    clip-rule="evenodd" />
                </svg>
                Light
              </button>
              <button data-theme="dark"
                class="w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-3">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z" />
                </svg>
                Dark
              </button>
              <button data-theme="system"
                class="w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-3">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd"
                    d="M3 5a2 2 0 012-2h10a2 2 0 012 2v8a2 2 0 01-2 2h-2.22l.123.489.804.804A1 1 0 0113 18H7a1 1 0 01-.707-1.707l.804-.804L7.22 15H5a2 2 0 01-2-2V5zm5.771 7H5V5h10v7H8.771z"
                    clip-rule="evenodd" />
                </svg>
                System
              </button>
            </div>
          </div>

          <a href="https://www.kreyco.com" target="_blank"
            class="text-sm font-medium text-gray-500 hover:text-brand transition-colors hidden sm:block">www.kreyco.com</a>
        </div>

        <!-- Submission Loading Modal -->
        <div id="submissionModal" class="hidden fixed inset-0 z-50 overflow-y-auto" aria-labelledby="modal-title"
          role="dialog" aria-modal="true">
          <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <!-- Backdrop -->
            <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" aria-hidden="true"></div>

            <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>

            <div
              class="inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full">
              <div class="bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                <div class="sm:flex sm:items-start">
                  <div
                    class="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 sm:mx-0 sm:h-10 sm:w-10">
                    <!-- Spinner Icon -->
                    <svg class="animate-spin h-6 w-6 text-brand" xmlns="http://www.w3.org/2000/svg" fill="none"
                      viewBox="0 0 24 24">
                      <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                      <path class="opacity-75" fill="currentColor"
                        d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
                      </path>
                    </svg>
                  </div>
                  <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
                    <h3 class="text-lg leading-6 font-medium text-gray-900 dark:text-gray-100" id="modal-title">
                      Submitting Response
                    </h3>
                    <div class="mt-2">
                      <p class="text-sm text-gray-500 dark:text-gray-300">
                        Please wait for a minute while we process your submission. Do not close this window.
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Preview Modal -->
        <div id="previewModal" class="hidden fixed inset-0 z-50 overflow-y-auto" aria-labelledby="modal-title"
          role="dialog" aria-modal="true">
          <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <!-- Backdrop -->
            <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" aria-hidden="true"></div>

            <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>

            <div
              class="inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full">
              <div class="bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                <h3 class="text-xl leading-6 font-bold text-gray-900 dark:text-gray-100 mb-4" id="preview-modal-title">
                  Review Your Submission
                </h3>

                <div class="mt-2 max-h-[60vh] overflow-y-auto custom-scrollbar pr-2" id="previewContent">
                  <!-- Dynamic Content Injected Here -->
                </div>
              </div>

              <div class="bg-gray-50 dark:bg-gray-700/50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse gap-3">
                <button type="button" id="confirmSubmitBtn"
                  class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-brand text-base font-medium text-white hover:bg-brand-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand sm:ml-3 sm:w-auto sm:text-sm">
                  Confirm & Submit
                </button>
                <button type="button" onclick="document.getElementById('previewModal').classList.add('hidden')"
                  class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
                  Edit
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="flex-grow py-8 px-4 sm:px-6 lg:px-8">
    <div class="w-full max-w-4xl mx-auto">

      <!-- Main Form Container -->
      <div id="mainFormContainer">


        <!-- Form Card -->
        <div
          class="bg-white dark:bg-gray-800 rounded-xl shadow-card overflow-hidden border border-gray-100 dark:border-gray-700">
          <form id="appForm" class="p-8 sm:p-12 grid grid-cols-1 gap-8">

            <!-- LEFT COLUMN: School & Contact & Additional Info (40% width) -->
            <div class="flex flex-col">

              <!-- SCROLLABLE TOP AREA -->
              <div class="flex-grow overflow-y-auto custom-scrollbar lg:pr-4 space-y-8 pb-4">

                <!-- Section 1: School Details -->
                <section class="school-info-section">
                  <div class="school-header-wrapper flex items-center mb-6">
                    <div class="flex items-center">
                      <div class="bg-brand/10 p-2 rounded-lg mr-3">
                        <i class="fas fa-school text-brand text-xl"></i>
                      </div>
                      <h2 class="text-xl font-bold text-gray-900 dark:text-gray-100">School Information</h2>
                    </div>
                  </div>

                  <div class="school-content">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                      <div class="md:col-span-2">
                        <label class="block text-sm font-semibold text-gray-700 mb-1">Name of School <span
                            class="text-red-500">*</span></label>
                        <input type="text" id="schoolName" required
                          class="w-full rounded-lg border-gray-300 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-brand focus:border-transparent transition-all shadow-input p-2.5">
                      </div>

                      <div class="md:col-span-2">
                        <label class="block text-sm font-semibold text-gray-700 mb-1">Address (Street, City, State, ZIP)
                          <span class="text-red-500">*</span></label>
                        <textarea id="address" rows="2" placeholder="Please add the complete address" required
                          class="w-full rounded-lg border-gray-300 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-brand focus:border-transparent transition-all shadow-input p-2.5"></textarea>
                        <p class="text-xs text-red-500 mt-1 hidden" id="addressError">Please enter a complete address
                          (minimum 10 characters).</p>
                      </div>

                      <!-- Bell Schedule -->
                      <div class="col-span-1">
                        <label class="block text-sm font-semibold text-gray-700 mb-1">Bell Schedule <span
                            class="text-red-500">*</span></label>

                        <!-- Toggle Options -->
                        <div class="flex items-center space-x-4 mb-2">
                          <label class="inline-flex items-center cursor-pointer">
                            <input type="radio" name="bellScheduleType" value="text" checked
                              class="form-radio text-brand focus:ring-brand"
                              onchange="toggleInputType('bellSchedule', 'text')">
                            <span class="ml-2 text-sm text-gray-600">Enter Text or Link</span>
                          </label>
                          <label class="inline-flex items-center cursor-pointer">
                            <input type="radio" name="bellScheduleType" value="file"
                              class="form-radio text-brand focus:ring-brand"
                              onchange="toggleInputType('bellSchedule', 'file')">
                            <span class="ml-2 text-sm text-gray-600">Upload File</span>
                          </label>
                        </div>

                        <!-- Text Input (Default) -->
                        <div id="bellScheduleTextContainer">
                          <textarea id="bellScheduleText" rows="4"
                            placeholder="Please describe the bell schedule or provide a link..."
                            class="w-full rounded-lg border-gray-300 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-brand focus:border-transparent transition-all shadow-input p-2.5"></textarea>
                        </div>

                        <!-- File Input (Hidden) -->
                        <div id="bellScheduleFileContainer" class="relative hidden">
                          <input type="file" id="bellSchedule" accept=".pdf,.doc,.docx,.jpg,.jpeg,.png" class="hidden">
                          <button type="button" onclick="document.getElementById('bellSchedule').click()"
                            class="w-full rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 hover:bg-gray-100 focus:ring-2 focus:ring-brand focus:border-transparent transition-all p-3 text-left flex items-center">
                            <i class="fas fa-upload text-gray-400 mr-3"></i>
                            <span class="text-sm text-gray-600">Click to upload Bell Schedule</span>
                          </button>
                          <p class="text-xs text-gray-500 mt-1" data-bell-schedule-label>No file chosen</p>
                        </div>
                      </div>

                      <!-- School Calendar -->
                      <div class="col-span-1">
                        <label class="block text-sm font-semibold text-gray-700 mb-1">School Calendar <span
                            class="text-red-500">*</span></label>

                        <!-- Toggle Options -->
                        <div class="flex items-center space-x-4 mb-2">
                          <label class="inline-flex items-center cursor-pointer">
                            <input type="radio" name="calendarType" value="text" checked
                              class="form-radio text-brand focus:ring-brand"
                              onchange="toggleInputType('calendar', 'text')">
                            <span class="ml-2 text-sm text-gray-600">Enter Text or Link</span>
                          </label>
                          <label class="inline-flex items-center cursor-pointer">
                            <input type="radio" name="calendarType" value="file"
                              class="form-radio text-brand focus:ring-brand"
                              onchange="toggleInputType('calendar', 'file')">
                            <span class="ml-2 text-sm text-gray-600">Upload File</span>
                          </label>
                        </div>

                        <!-- Text Input (Default) -->
                        <div id="calendarTextContainer">
                          <textarea id="calendarText" rows="4"
                            placeholder="Please describe the school calendar or provide a link..."
                            class="w-full rounded-lg border-gray-300 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-brand focus:border-transparent transition-all shadow-input p-2.5"></textarea>
                        </div>

                        <!-- File Input (Hidden) -->
                        <div id="calendarFileContainer" class="relative hidden">
                          <input type="file" id="calendar" accept=".pdf,.doc,.docx,.jpg,.jpeg,.png" class="hidden">
                          <button type="button" onclick="document.getElementById('calendar').click()"
                            class="w-full rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 hover:bg-gray-100 focus:ring-2 focus:ring-brand focus:border-transparent transition-all p-3 text-left flex items-center">
                            <i class="fas fa-upload text-gray-400 mr-3"></i>
                            <span class="text-sm text-gray-600">Click to upload School Calendar</span>
                          </button>
                          <p class="text-xs text-gray-500 mt-1" data-calendar-label>No file chosen</p>
                        </div>
                      </div>

                      <!-- LINE BREAK -->
                      <hr class="md:col-span-2 my-2 border-gray-200 dark:border-gray-700">

                      <!-- Title field - full width on mobile -->
                      <div class="col-span-1 md:col-span-2 md:grid md:grid-cols-3 md:gap-4">
                        <div class="md:col-span-1">
                          <label class="block text-sm font-semibold text-gray-700 mb-1">Title</label>
                          <input type="text" id="title" placeholder="e.g., Principal"
                            class="w-full rounded-lg border-gray-300 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-brand focus:border-transparent transition-all shadow-input p-2.5">
                        </div>

                        <div class="md:col-span-2 mt-4 md:mt-0">
                          <label class="block text-sm font-semibold text-gray-700 mb-1">Your Full Name (First and Last
                            Name)
                            <span class="text-red-500">*</span></label>
                          <input type="text" id="fullName" required
                            class="w-full rounded-lg border-gray-300 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-brand focus:border-transparent transition-all shadow-input p-2.5">
                        </div>
                      </div>

                      <!-- Phone Number with Extension -->
                      <div class="md:col-span-2 grid grid-cols-1 sm:grid-cols-4 gap-4">
                        <div class="sm:col-span-3">
                          <label class="block text-sm font-semibold text-gray-700 mb-1">Phone Number <span
                              class="text-red-500">*</span></label>
                          <input type="tel" id="phoneNumber" required placeholder="123 456 7890"
                            class="w-full rounded-lg border-gray-300 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-brand focus:border-transparent transition-all shadow-input p-2.5">
                        </div>
                        <div class="sm:col-span-1">
                          <label class="block text-sm font-semibold text-gray-700 mb-1">Extension</label>
                          <input type="text" id="phoneExtension" placeholder="123"
                            class="w-full rounded-lg border-gray-300 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-brand focus:border-transparent transition-all shadow-input p-2.5">
                        </div>
                      </div>

                      <div class="md:col-span-2">
                        <label class="block text-sm font-semibold text-gray-700 mb-1">Email Address <span
                            class="text-red-500">*</span></label>
                        <input type="email" id="email" required
                          class="w-full rounded-lg border-gray-300 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-brand focus:border-transparent transition-all shadow-input p-2.5">
                        <p class="text-xs text-red-500 mt-1 hidden" id="emailError">Please enter a valid email address.
                        </p>
                      </div>
                    </div>
                  </div><!-- End school-content -->
                </section>



              </div> <!-- End Scrollable Content -->

              <!-- FIXED BOTTOM CONTENT -->
              <div
                class="flex-shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700 bg-white dark:bg-gray-800 z-10 lg:pr-4 space-y-4">


              </div> <!-- End Fixed Bottom Content -->

            </div> <!-- End Left Column -->

            <!-- RIGHT COLUMN: Teachers & Buttons (60% width) -->
            <div class="space-y-8">

              <!-- Global Certification Question -->
              <div
                class="bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm">
                <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">Will your Teacher(s)
                  require certification? <span class="text-red-500">*</span></label>
                <select id="certification" required
                  class="w-full rounded-lg border-gray-300 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-brand focus:border-transparent transition-all shadow-input p-2.5">
                  <option value="">Select Certification...</option>
                  <option disabled>Loading...</option>
                </select>
              </div>

              <!-- Section 2: Teachers -->
              <section>
                <!-- Highlighted Description -->
                <div class="bg-blue-50 dark:bg-blue-900/20 border-l-4 border-brand p-4 mb-6 rounded-r-lg">
                  <p class="text-gray-700 dark:text-gray-300 text-sm leading-relaxed">
                    <i class="fas fa-info-circle text-brand mr-2"></i>
                    <strong>Below, please add the information for each individual teacher you need.</strong> Click the
                    "Add Teacher" button to add a new space for each individual teacher.
                  </p>
                </div>

                <div class="flex flex-wrap justify-between items-center mb-6 gap-4">
                  <div class="flex items-center">
                    <div class="bg-brand/10 p-2 rounded-lg mr-3">
                      <i class="fas fa-users text-brand text-xl"></i>
                    </div>
                    <div>
                      <h2 class="text-xl font-bold text-gray-900">Number of Teachers</h2>
                      <p id="teacherCounter" class="text-sm text-gray-500 mt-0.5">Total added: 1</p>
                    </div>
                  </div>

                  <div class="flex items-center gap-4">
                    <label
                      class="flex items-center space-x-2 cursor-pointer bg-gray-50 px-3 py-2 rounded-lg border border-gray-200">
                      <input type="checkbox" id="tbdCheckbox" class="w-4 h-4 text-brand rounded focus:ring-brand">
                      <span class="text-sm font-medium text-gray-700">TBD</span>
                    </label>

                    <button type="button" id="addTeacherBtn" onclick="addTeacherRow()"
                      class="bg-white border border-brand text-brand hover:bg-brand hover:text-white px-5 py-2.5 rounded-lg text-sm font-semibold transition-all duration-200 flex items-center shadow-sm">
                      <i class="fas fa-plus mr-2"></i> Add Teacher
                    </button>
                  </div>
                </div>

                <div id="tbdContainer" class="hidden mb-6">
                  <label class="block text-sm font-semibold text-gray-700 mb-1">Description <span
                      class="text-red-500">*</span></label>
                  <textarea id="tbdDescription" rows="3"
                    class="w-full rounded-lg border-gray-300 bg-white focus:ring-2 focus:ring-brand focus:border-transparent transition-all shadow-input p-2.5"
                    placeholder="Please describe the staffing needs..."></textarea>
                </div>

                <div id="teachersContainer" class="space-y-6"></div>

                <!-- Bottom Add Teacher Button -->
                <div id="addTeacherBtnBottom" class="mt-6 flex justify-center">
                  <button type="button" onclick="addTeacherRow()"
                    class="bg-white border-2 border-brand text-brand hover:bg-brand hover:text-white px-6 py-3 rounded-lg font-semibold transition-all duration-200 flex items-center shadow-sm hover:shadow-md">
                    <i class="fas fa-plus mr-2"></i> Add Another Teacher
                  </button>
                </div>
              </section>

              <!-- Additional Information Section (Moved here) -->
              <section class="mt-8 pt-8 border-t border-gray-100 dark:border-gray-700">
                <div class="grid grid-cols-1 gap-6">
                  <div>
                    <label class="block text-sm font-semibold text-gray-700 mb-1">Should we know anything
                      else?</label>
                    <textarea id="additionalInfo" rows="3"
                      placeholder="Any additional information you'd like to share..."
                      class="w-full rounded-lg border-gray-300 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-brand focus:border-transparent transition-all shadow-input p-2.5"></textarea>
                  </div>
                </div>
              </section>

              <!-- Checkbox for Draft Notification was here before... moved to left col -->



            </div> <!-- End Right Column -->

          </form>
        </div>

        <div class="mt-8 text-center text-sm text-gray-500 dark:text-gray-400">
          &copy;
          <script>document.write(new Date().getFullYear())</script> Kreyco. All rights reserved.
        </div>
      </div>
    </div> <!-- End mainFormContainer -->

    <!-- Success View (Hidden by default) -->
    <div id="successView" class="hidden flex flex-col items-center justify-center py-12">
      <div
        class="max-w-md w-full text-center p-8 bg-white dark:bg-gray-800 rounded-2xl shadow-xl animate-fade-in-up transform transition-all border border-gray-100 dark:border-gray-700">

        <!-- Animated Checkmark -->
        <div class="mb-6 relative h-24 w-24 mx-auto">
          <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
            <circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none" />
            <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8" />
          </svg>
        </div>

        <h1 class="text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2">Thank You!</h1>

        <p class="text-gray-600 dark:text-gray-300 mb-8 text-lg leading-relaxed">
          We have received your school's information.
        </p>

        <div class="bg-blue-50 dark:bg-blue-900/30 border border-blue-100 dark:border-blue-800 rounded-lg p-4 mb-8">
          <p class="text-brand dark:text-blue-300 font-medium">We look forward to partnering with you!</p>
        </div>


      </div>
      <div class="mt-8 text-center text-gray-400 text-sm">
        &copy;
        <script>document.write(new Date().getFullYear())</script> Kreyco. All rights reserved.
      </div>
    </div>

    </div>
  </main>

  <!-- Fixed Bottom Action Bar -->
  <div
    class="fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 shadow-lg z-40">
    <div class="max-w-4xl mx-auto px-4 py-3">
      <!-- Draft Notification -->
      <div id="draftNotification"
        class="hidden bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3 mb-3 flex items-center gap-3">
        <svg class="w-5 h-5 text-blue-500 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        <div class="flex-1 flex items-center gap-2">
          <p class="text-sm font-medium text-blue-800 dark:text-blue-200">Draft Available from <span
              id="draftDate"></span></p>
          <span class="text-xs text-blue-600 dark:text-blue-400 italic">(Uploaded files not included)</span>
        </div>
        <div class="flex gap-3">
          <button type="button" onclick="loadDraft()"
            class="text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 text-sm font-medium underline">
            Load Draft
          </button>
          <button type="button" onclick="clearDraft()"
            class="text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-200 text-sm font-medium underline">
            Clear
          </button>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="flex items-center justify-between gap-4">
        <!-- About Drafts Info (Expandable) -->
        <details class="hidden sm:block text-xs text-gray-500 dark:text-gray-400">
          <summary class="flex items-center gap-2 cursor-pointer hover:text-gray-700 dark:hover:text-gray-300">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <span class="font-medium">About Drafts</span>
          </summary>
          <div class="mt-2 bg-gray-50 dark:bg-gray-700 rounded-lg p-3 space-y-1">
            <p>• Drafts are saved locally in your browser and only accessible on this device.</p>
            <p>• Uploaded files (Bell Schedule, School Calendar) are not included.</p>
            <p>• Clearing your browser data will delete any saved drafts.</p>
          </div>
        </details>

        <!-- Buttons -->
        <div class="flex gap-3 ml-auto">
          <button type="button" onclick="saveDraft()"
            class="bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-semibold py-2.5 px-5 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 flex items-center gap-2 text-sm">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4">
              </path>
            </svg>
            <span>Save Draft</span>
          </button>
          <button type="submit" form="appForm" id="submitBtn"
            class="bg-brand hover:bg-brand-dark text-white font-bold py-2.5 px-6 rounded-xl shadow-md hover:shadow-lg transition-all duration-200 transform hover:-translate-y-0.5 flex items-center gap-2 text-sm">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <span>Submit</span>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bottom spacer to prevent content being hidden behind fixed bar -->
  <div class="h-28"></div>

  <!-- Teacher Row Template -->
  <template id="teacherTemplate">
    <div
      class="teacher-row bg-gray-50 border border-gray-200 rounded-xl relative hover:shadow-md transition-shadow duration-200">
      <!-- Collapsible Header -->
      <div class="teacher-header-wrapper flex items-center justify-between p-4 cursor-pointer"
        onclick="toggleTeacher(this)">
        <h3 class="text-brand font-bold text-lg teacher-header">Teacher 1</h3>
        <div class="flex items-center gap-2">
          <button type="button" onclick="event.stopPropagation(); removeTeacher(this)"
            class="text-gray-400 hover:text-red-500 transition-colors p-2 rounded-full hover:bg-red-50"
            title="Remove Teacher">
            <i class="fas fa-trash-alt"></i>
          </button>
          <i class="fas fa-chevron-down text-brand transition-transform duration-200 chevron-icon"></i>
        </div>
      </div>

      <!-- Collapsible Content -->
      <div class="teacher-content p-6 pt-0">

        <div class="grid grid-cols-1 gap-5">
          <div>
            <label class="block text-xs uppercase tracking-wide font-bold text-gray-500 mb-1">Description</label>
            <textarea name="t_desc" rows="2"
              class="w-full rounded-md border-gray-300 focus:ring-brand focus:border-brand shadow-sm p-2"
              placeholder="Role description or requirements"></textarea>
          </div>

          <div>
            <label class="block text-xs uppercase tracking-wide font-bold text-gray-500 mb-1">Instructional/Teaching
              Schedule <span class="text-red-500">*</span></label>
            <div class="flex flex-col sm:flex-row gap-3 items-start">
              <div class="flex-grow w-full">
                <textarea name="t_teachingSchedule" rows="2"
                  class="w-full rounded-md border-gray-300 focus:ring-brand focus:border-brand shadow-sm p-2"
                  placeholder="Describe the schedule here..."></textarea>
              </div>

              <div class="flex items-center gap-3 flex-shrink-0 w-full sm:w-auto">
                <span class="text-xs text-gray-400 font-bold uppercase">OR</span>

                <div class="relative flex-grow sm:flex-grow-0 sm:w-36">
                  <input type="file" name="t_teachingScheduleFile" accept=".pdf,.doc,.docx,.jpg,.jpeg,.png"
                    class="hidden">
                  <button type="button" onclick="this.previousElementSibling.click()"
                    class="w-full rounded-md border border-dashed border-gray-300 bg-gray-50 hover:bg-gray-100 focus:ring-2 focus:ring-brand focus:border-transparent transition-all py-2 px-1 flex flex-col items-center justify-center text-center h-[54px]">
                    <i class="fas fa-upload text-gray-400 text-sm mb-0.5"></i>
                    <span class="text-[10px] text-gray-600 font-medium leading-tight">Upload File</span>
                  </button>
                  <p class="text-[10px] text-brand font-medium absolute top-full left-0 w-full truncate mt-0.5 hidden text-center"
                    data-file-label></p>
                </div>
              </div>
            </div>
          </div>

          <div>
            <label class="block text-xs uppercase tracking-wide font-bold text-gray-500 mb-1">Duties, Meetings, & PD
              <span class="text-red-500">*</span></label>
            <textarea name="t_duties" rows="2"
              class="w-full rounded-md border-gray-300 focus:ring-brand focus:border-brand shadow-sm p-2"
              placeholder="Enter duties, meetings, and PD requirements..." required></textarea>
          </div>

          <!-- Salary Fields Section (Modified) -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">


            <div class="md:col-span-2">
              <label class="block text-xs uppercase tracking-wide font-bold text-gray-500 mb-1">Annual Salary & Benefits
                <span class="text-red-500">*</span></label>
              <textarea name="t_annualSalary" rows="2"
                class="w-full rounded-md border-gray-300 focus:ring-brand focus:border-brand shadow-sm p-2"
                placeholder="Enter annual salary and benefits..." required></textarea>
            </div>

            <div class="md:col-span-2">
              <label class="block text-xs uppercase tracking-wide font-bold text-gray-500 mb-1">Prorated salary &
                benefits if starting after the school year has begun <span class="text-red-500">*</span></label>
              <textarea name="t_proratedSalary" rows="2"
                class="w-full rounded-md border-gray-300 focus:ring-brand focus:border-brand shadow-sm p-2"
                placeholder="Enter prorated salary information..." required></textarea>
            </div>
          </div>

          <!-- Campus Name & Address Row -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
            <div>
              <label class="block text-xs uppercase tracking-wide font-bold text-gray-500 mb-1">Campus Name</label>
              <textarea name="t_campusName" rows="2"
                class="w-full rounded-md border-gray-300 focus:ring-brand focus:border-brand shadow-sm p-2"
                placeholder="Enter campus name..."></textarea>
            </div>
            <div>
              <label class="block text-xs uppercase tracking-wide font-bold text-gray-500 mb-1">Campus Address</label>
              <textarea name="t_campusAddress" rows="2"
                class="w-full rounded-md border-gray-300 focus:ring-brand focus:border-brand shadow-sm p-2"
                placeholder="Enter campus address..."></textarea>
            </div>
          </div>

          <!-- Dropdowns: Row 1 (3 Columns) -->
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
            <!-- Grade Levels Checkboxes -->
            <div>
              <label class="block text-xs uppercase tracking-wide font-bold text-gray-500 mb-1">Grade Level(s) <span
                  class="text-red-500">*</span></label>
              <div name="t_gradeLevels"
                class="checkbox-container bg-white border border-gray-300 rounded-md p-3 h-40 overflow-y-auto">
                <div class="flex justify-center items-center h-full text-gray-400 text-sm">
                  <div class="loader"></div>
                </div>
              </div>
            </div>

            <!-- Languages Checkboxes -->
            <div>
              <label class="block text-xs uppercase tracking-wide font-bold text-gray-500 mb-1">Language(s) <span
                  class="text-red-500">*</span></label>
              <div name="t_languages"
                class="checkbox-container bg-white border border-gray-300 rounded-md p-3 h-40 overflow-y-auto">
                <div class="flex justify-center items-center h-full text-gray-400 text-sm">
                  <div class="loader"></div>
                </div>
              </div>
            </div>

            <!-- Language Acquisition Checkboxes -->
            <div>
              <label class="block text-xs uppercase tracking-wide font-bold text-gray-500 mb-1">Language
                acquisition</label>
              <div name="t_languageAcquisition"
                class="checkbox-container bg-white border border-gray-300 rounded-md p-3 h-40 overflow-y-auto">
                <div class="flex justify-center items-center h-full text-gray-400 text-sm">
                  <div class="loader"></div>
                </div>
              </div>
            </div>
          </div>

          <!-- Dropdowns: Row 2 (4 Columns) - Optional Fields -->
          <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
            <!-- Humanities -->
            <div>
              <label
                class="block text-xs uppercase tracking-wide font-bold text-gray-500 mb-1 h-8 flex items-end">Humanities</label>
              <div name="t_humanities"
                class="checkbox-container bg-white border border-gray-300 rounded-md p-3 h-40 overflow-y-auto">
                <div class="flex justify-center items-center h-full text-gray-400 text-sm">
                  <div class="loader"></div>
                </div>
              </div>
            </div>

            <!-- STEM -->
            <div>
              <label
                class="block text-xs uppercase tracking-wide font-bold text-gray-500 mb-1 h-8 flex items-end">STEM</label>
              <div name="t_stem"
                class="checkbox-container bg-white border border-gray-300 rounded-md p-3 h-40 overflow-y-auto">
                <div class="flex justify-center items-center h-full text-gray-400 text-sm">
                  <div class="loader"></div>
                </div>
              </div>
            </div>

            <!-- SPED -->
            <div>
              <label
                class="block text-xs uppercase tracking-wide font-bold text-gray-500 mb-1 h-8 flex items-end">SPED</label>
              <div name="t_sped"
                class="checkbox-container bg-white border border-gray-300 rounded-md p-3 h-40 overflow-y-auto">
                <div class="flex justify-center items-center h-full text-gray-400 text-sm">
                  <div class="loader"></div>
                </div>
              </div>
            </div>

            <!-- Paraprofessional support -->
            <div>
              <label
                class="block text-xs uppercase tracking-wide font-bold text-gray-500 mb-1 h-8 flex items-end">Paraprofessional
                support</label>
              <div name="t_paraprofessional"
                class="checkbox-container bg-white border border-gray-300 rounded-md p-3 h-40 overflow-y-auto">
                <div class="flex justify-center items-center h-full text-gray-400 text-sm">
                  <div class="loader"></div>
                </div>
              </div>
            </div>
          </div>

          <!-- Status Dropdowns (Modality only, Certification moved global) -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="md:col-span-2">
              <!-- Full width since it's alone now, or keep half width if preferred. Let's make it full width for balance -->
              <label class="block text-xs uppercase tracking-wide font-bold text-gray-500 mb-1">Modality Preference
                <span class="text-red-500">*</span></label>
              <select name="t_modality" required
                class="w-full rounded-md border-gray-300 bg-white focus:ring-brand focus:border-brand shadow-sm p-2">
                <option value="">Select Modality...</option>
                <option disabled>Loading...</option>
              </select>
            </div>
          </div>

          <!-- Desired Start Date, Last Day, and Instructional Days -->
          <div class="grid grid-cols-1 md:grid-cols-5 gap-4">
            <div class="md:col-span-2 flex flex-col">
              <label class="block text-xs uppercase tracking-wide font-bold text-gray-500 mb-1">Desired Start Date <span
                  class="text-red-500">*</span></label>
              <input type="date" name="t_startDate"
                class="w-full rounded-md border-gray-300 focus:ring-brand focus:border-brand shadow-sm p-2 mt-auto bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:[color-scheme:dark]"
                required>
            </div>

            <div class="md:col-span-2 flex flex-col">
              <label class="block text-xs uppercase tracking-wide font-bold text-gray-500 mb-1">Last Day of Instruction
                <span class="text-red-500">*</span></label>
              <input type="date" name="t_lastDay"
                class="w-full rounded-md border-gray-300 focus:ring-brand focus:border-brand shadow-sm p-2 mt-auto bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:[color-scheme:dark]"
                required>
            </div>

            <div class="md:col-span-1 flex flex-col">
              <label
                class="block text-[10px] sm:text-xs uppercase tracking-wide font-bold text-gray-500 mb-1 leading-tight">Teaching/
                Instructional Days</label>
              <input type="text" name="t_instructionalDays" readonly
                class="w-full rounded-md border-gray-300 bg-gray-100 focus:ring-0 cursor-not-allowed shadow-sm p-2 text-center font-bold text-brand mt-auto">
            </div>
          </div>
        </div>
      </div><!-- End teacher-content -->
    </div>
  </template>

  <!-- This pulls in all your JS logic -->
  <?!= include('JavaScript'); ?>
</body>

</html>